{% extends "base.html" %}
{% load static %}

{% block load %}
    <script src="{% static "assays/test_filter.js" %}"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="{% static "assays/chart_display.js" %}"></script>
{% endblock %}

{% block breadcrumbs %}
    <li class="active">Query Data</li>
{% endblock %}

{% block content %}
    <div id="filter">
    <div class="row text-center padded-bottom">
        <a href="#show" type="button" class="btn btn-xlarge btn-primary text-center" id="submit">
            Show Plots
        </a>
    </div>

    <div id="number_of_points_container" class="row text-center padded-bottom text-success">
        <h1 id="select_user_group_message" class="text-danger">Please Select at Least One MPS Model</h1>
        <h2>Number of Points: <span id="number_of_points"></span></h2>
    </div>

    <div class="row padded-bottom">
        <div class="col-md-6">
{#            <table id="id_study__matrix_item__organmodel_id__in" class="table table-striped table-hover">#}
            <table id="filter_organ_models" class="table table-striped table-hover filter-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>MPS Model</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
        <div class="col-md-6">
{#            <table id="id_study__group_id__in" class="table table-striped table-hover">#}
            <table id="filter_groups" class="table table-striped table-hover filter-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>MPS User Group</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>

    <div class="row padded-bottom">
        <div class="col-xs-6">
{#            <table id="id_study_assay__target" class="table table-striped table-hover">#}
            <table id="filter_targets" class="table table-striped table-hover filter-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>Target/Analyte</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
        <div class="col-xs-6">
{#            <table id="id_study_assay__target" class="table table-striped table-hover">#}
            <table id="filter_compounds" class="table table-striped table-hover filter-table">
                <thead>
                    <tr>
                        <th>Select</th>
                        <th>Compound</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>

    </div>

    <div hidden id="results">
    <div class="row text-center padded-bottom">
    <a href="#filter"  id="back" class="btn btn-xlarge btn-info">
        <span class="glyphicon glyphicon-hand-left" aria-hidden="true"></span>
        Back to Selection
    </a>
    </div>

    {% include 'assays/chart_options.html' with chart_prefix="charts" chart_title="Selected Data" %}

    {# Note indicating no data to display initially #}
    <div id="charts" class="padded-bottom">
        No data to display
    </div>

    <div id="heatmap_wrapper" class="padded-bottom">
        <div class="row">
            <div id="heatmap_filters" class="col-xs-12">
                <label for="id_heatmap_matrix">Matrix
                <select id="id_heatmap_matrix" data-heatmap-index="0"></select>
                </label>
                <label for="id_heatmap_target">Target
                <select id="id_heatmap_target" data-heatmap-index="1"></select>
                </label>
                <label for="id_heatmap_method">Method
                <select id="id_heatmap_method" data-heatmap-index="2"></select>
                </label>
                <label for="id_heatmap_unit">Unit
                <select id="id_heatmap_unit" data-heatmap-index="3"></select>
                </label>
                <label for="id_heatmap_sample_location">Sample Location
                <select id="id_heatmap_sample_location" data-heatmap-index="4"></select>
                </label>
                <label for="id_heatmap_subtarget">Subtarget
                <select id="id_heatmap_subtarget" data-heatmap-index="5"></select>
                </label>
                <label for="id_heatmap_time">Time
                <select id="id_heatmap_time" data-heatmap-index="6"></select>
                </label>
            </div>
        </div>

    <div class="well padded-bottom">
        <div id="matrix_wrapper" class="overflow-auto" style="max-height:800px;">
            {# NO INLINE STYLE PLEASE #}
            <table id="matrix_table" class="table">
                <tbody id="matrix_body"></tbody>
            </table>
        </div>
    </div>
    </div>

    <table id="treatment_group_table" class="table table-striped table-bordered">
        <thead id="treatment_group_head">
        </thead>
        <tbody id="treatment_group_display">
        </tbody>
    </table>

    <div id="group_display" class="container hidden-print">
        <table class="table table-bordered">
            <tbody id="group_display_body">

            </tbody>
        </table>
    </div>
    </div>

    {# TODO TODO TODO #}
    <div hidden id="filter_popup" title="Dummy Filter">
        Dummy Filter
        <table>
            <thead>
                <tr>
                    <th>Select</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input checked type="checkbox"></td>
                    <td>Example 1</td>
                </tr>
                <tr>
                    <td><input checked type="checkbox"></td>
                    <td>Example 2</td>
                </tr>
                <tr>
                    <td><input checked type="checkbox"></td>
                    <td>Example 3</td>
                </tr>
                <tr>
                    <td><input checked type="checkbox"></td>
                    <td>Example 4</td>
                </tr>
            </tbody>
        </table>
    </div>
{% endblock %}


